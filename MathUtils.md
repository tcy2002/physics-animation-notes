# 数学基础

仿真的数学基础要求比较高，我也是慢慢接触慢慢学，只知道一点皮毛。下面是仿真开发里一些最基础的数学概念，稍作整理。

## 矢量代数和矢量几何

必备知识：也是图形学的基础知识，不赘述
- 矢量的点积、叉积、混合积及其运算规律；
- 微分方程，标量对矢量、矢量对矢量的导数和偏导；
- 旋转矩阵、四元数、欧拉角；

[Ahmed A. Shabana](https://api.pageplace.de/preview/DT0400.9780511114205_A24404602/preview-9780511114205_A24404602.pdf)这本书里有较为详细和易懂的数学基础介绍，可参考第二节和附录。

## 线性代数

### 特征值和特征向量

### 线性求解方法

常见的矩阵求解方法有：
- 高斯消元法：通过行变换将矩阵化为上三角矩阵，然后回代求解；
- LU分解：将矩阵分解为下三角矩阵$L$和上三角矩阵$U$，然后通过前向后向替换求解；
- Cholesky分解：适用与对称正定矩阵，将矩阵分解为$LL^T$，其中$L$是下三角矩阵；
- QR分解：将矩阵分解为正交矩阵$Q$和上三角矩阵$R$，然后通过回代求解。

还有一些迭代方法：

- 雅可比迭代：对于矩阵方程$Ax=b$，其中$A$非奇异且$a_{ii}\neq 0$，将A分解为：$A=D+L+U$，其中$D$为包含元素$a_{ii}$的对角矩阵，$L$为包含元素$a_{ij},i<j$的严格下三角矩阵，$U$为包含元素$a_{ij},i>j$的严格上三角矩阵，迭代过程为：
  $$x^{(k+1)}=-D^{-1}(L+U)x^{(k)}+D^{-1}b$$
  直观理解：
  $$\begin{cases}
  8x_1-3x_2+2x_3=20 \\
  4x_1+11x_2-x_3=33 \\
  6x_1+3x_2+13x_3=36
  \end{cases}\Rightarrow
  \begin{cases}
  x_1=(20+3x_2-2x_3)/8 \\
  x_2=(33-4x_1+x_3)/11 \\
  x_3=(36-6x_1-3x_2)/12
  \end{cases}$$
  使用后一个方程组进行迭代，精确解为$x=[3,2,1]^T$，选择$x^{(0)}=[0,0,0]^T$，迭代5次有$x=[2.999843,2.000072,1.000061]^T$
- Gauss-Seidel迭代：雅可比迭代的改进，在计算$x_i^{(k+1)}$时，使用已经更新的$x_j^{(k+1)},j<i$，而不是直接使用旧的$x^{(k)}$，即：
  $$\begin{cases}
  x_1^{(k+1)}=(20+3x_2^{(k)}-2x_3^{(k)})/8 \\
  x_2^{(k+1)}=(33-4x_1^{(k+1)}+x_3^{(k)})/11 \\
  x_3^{(k+1)}=(36-6x_1^{(k+1)}-3x_2^{(k+1)})/12
  \end{cases} \tag 3$$
  即，迭代方程修改为：
  $$x^{(k+1)}=(D-L)^{-1}Ux^{(k)}+(D-L)^{-1}b$$
  高斯-赛德尔迭代收敛更快。
- Projected Gauss-Seidel迭代（PGS）：在Gauss-Seidel迭代的基础上，对每次迭代后的$x$进行约束，比如求出摩擦约束之后，需要根据库伦定律约束在摩擦系数以内。
- 此类迭代方法的要求是：系数矩阵$A$为满秩方阵，且对角元素非0。当$A$严格对角占优（每行对角线元素绝对值大于其他元素绝对值之和）或对称正定时，对任意初始值都能收敛。

另外，Eigen库有很多线性求解器可用于求解矩阵方程，面向不同的前置条件，还有面向稀疏矩阵的优化，可参考Eigen文档。

## 微积分和数值计算

### 积分

### 优化

### 变分